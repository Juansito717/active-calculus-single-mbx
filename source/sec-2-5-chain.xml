<?xml version="1.0" encoding="UTF-8" ?>
<!-- **********************************************************************-->
<!-- Copyright 2012-2019                                                   -->
<!-- Matthew Boelkins                                                      -->
<!--                                                                       -->
<!-- This file is part of Active Calculus.                                 -->
<!--                                                                       -->
<!-- Permission is granted to copy, distribute and/or modify this document -->
<!-- under the terms of the Creative Commons BY-SA license.  The work      -->
<!-- may be used for free by any party so long as attribution is given to  -->
<!-- the author(s), the work and its derivatives are used in the spirit of -->
<!-- "share and share alike".  All trademarks are the registered marks of  -->
<!-- their respective owners.                                              -->
<!-- **********************************************************************-->
<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec-2-5-chain" permid="omc">
  <title>La regla de la cadena</title>
  <objectives permid="CpH">
    <ul permid="zvb">
      <li permid="LJt">
        <p permid="kmd">
          ¿Qué es una función compuesta y cómo reconocemos su estructura algebraicamente?
        </p>
      </li>

      <li permid="rQC">
        <p permid="Qtm">
          Dada una función compuesta
          <m>C(x) = f(g(x))</m> que se construye a partir de funciones diferenciables <m>f</m> y <m>g</m>,
          ¿cómo calculamos <m>C'(x)</m> en términos de <m>f</m>,
          <m>g</m>, <m>f'</m>, y <m>g'</m>?
          ¿Cuál es la declaración de la Regla de la Cadena?
        </p>
      </li>
    </ul>
  </objectives>

  <introduction permid="ODZ">
    <p permid="AeV">
      Además de aprender cómo diferenciar una variedad de funciones básicas,
      también hemos estado desarrollando nuestra habilidad para usar reglas para diferenciar ciertas combinaciones algebraicas de ellas.
    </p>

    <example permid="iwQ">
      <statement>
        <p permid="CZB">
          Declara la(s) regla(s) para encontrar la derivada de cada una de las siguientes combinaciones de
          <m>f(x) = \sin(x)</m> y <m>g(x) = x^2</m>:
          <me permid="SSt">
            s(x) = 3x^2 - 5\sin(x)
          </me>,
          <me permid="yZC">
            p(x) = x^2 \sin(x), \text{y}
          </me>
          <me permid="fgL">
            q(x) = \frac{\sin(x)}{x^2}
          </me>.
        </p>
      </statement>
      <solution permid="uLi">
        <p permid="ION">
          Encontrar <m>s'</m> usa las reglas de suma y múltiplo constante,
          porque <m>s(x) = 3g(x) - 5f(x)</m>.
          Determinar <m>p'</m> requiere la regla del producto,
          porque <m>p(x) = g(x) \cdot f(x)</m>.
          Para calcular <m>q'</m> usamos la regla del cociente,
          porque <m>q(x) =\frac{f(x)}{g(x)}</m>.
        </p>
      </solution>
    </example>

    <p permid="gme">
      Hay una forma más natural de combinar funciones básicas algebraicamente,
      y es componiéndolas.
      Por ejemplo, consideremos la función
      <me permid="LnU">
        C(x) = \sin(x^2)
      </me>,
      y observemos que cualquier entrada <m>x</m> pasa a través de una
      <em>cadena</em> de funciones.
      En el proceso que define la función <m>C(x)</m>,
      <m>x</m> se eleva al cuadrado primero, y luego se toma el seno del resultado.
      Usando un diagrama de flechas,
      <me permid="rvd">
        x \longrightarrow x^2 \longrightarrow \sin(x^2)
      </me>.
    </p>

    <p permid="Mtn">
      En términos de las funciones elementales <m>f</m> y <m>g</m>,
      observamos que <m>x</m> es la entrada para la función <m>g</m>,
      y el resultado se usa como la entrada para <m>f</m>.
      Escribimos
      <me permid="XCm">
        C(x) = f(g(x)) = \sin(x^2)
      </me>
      y decimos que <m>C</m> es la <em>composición</em>
          <idx><h>composition</h></idx>
      de <m>f</m> y <m>g</m>.
      Nos referiremos a <m>g</m>,
      la función que se aplica primero a <m>x</m>,
      como la función <em>interna</em>, mientras que <m>f</m>,
      la función que se aplica al resultado,
      es la función <em>externa</em>.
    </p>

    <p permid="sAw">
      Dada una función compuesta
      <m>C(x) = f(g(x))</m> que se construye a partir de funciones diferenciables <m>f</m> y <m>g</m>,
      ¿cómo calculamos <m>C'(x)</m> en términos de <m>f</m>,
      <m>g</m>, <m>f'</m>, y <m>g'</m>?
      De la misma manera que la tasa de cambio de un producto de dos funciones,
      <m>p(x) = f(x) \cdot g(x)</m>,
      depende del comportamiento de ambas <m>f</m> y <m>g</m>,
      tiene sentido intuitivamente que la tasa de cambio de una función compuesta
      <m>C(x) = f(g(x))</m> también dependerá de alguna combinación de <m>f</m> y <m>g</m> y sus derivadas.
      La regla que describe cómo calcular <m>C'</m> en términos de <m>f</m> y <m>g</m> y sus derivadas se llama la <em>regla de la cadena</em>.
    </p>

    <p permid="YHF">
      Pero antes de que podamos aprender lo que dice la regla de la cadena y por qué funciona,
      primero necesitamos estar cómodos descomponiendo funciones compuestas para que podamos identificar correctamente las funciones internas y externas,
      como hicimos en el ejemplo anterior con <m>C(x) = \sin(x^2)</m>.
    </p>

    <xi:include href="./previews/PA-2-5.xml" />
  </introduction>

  <subsection permid="Utl">
    <title>La regla de la cadena</title>
    <p permid="EOO">
      A menudo una función compuesta no puede escribirse en una forma algebraica alternativa.
      Por ejemplo, la función
      <m>C(x) = \sin(x^2)</m> no puede expandirse ni reescribirse de otra manera,
      por lo que no presenta enfoques alternativos para tomar la derivada.
      Pero algunas funciones compuestas pueden expandirse o simplificarse,
      y estas proporcionan una manera de explorar cómo funciona la regla de la cadena.
    </p>

    <example xml:id="ex-2-5-linear" permid="Zde">
      <statement>
        <p permid="jgK">
          Sea <m>f(x) = -4x + 7</m> y <m>g(x) = 3x - 5</m>.
          Determina una fórmula para <m>C(x) = f(g(x))</m> y calcula <m>C'(x)</m>.
          ¿Cómo se relaciona <m>C'</m> con <m>f</m> y <m>g</m> y sus derivadas?
        </p>
      </statement>
      <solution permid="aSr">
        <p permid="oVW">
          Según las reglas dadas para <m>f</m> y <m>g</m>,
          <md permid="DJv">
            <mrow>C(x) =\mathstrut \amp  f(g(x))</mrow>
            <mrow>=\mathstrut \amp  f(3x-5)</mrow>
            <mrow>=\mathstrut \amp  -4(3x-5) + 7</mrow>
            <mrow>=\mathstrut \amp  -12x + 20 + 7</mrow>
            <mrow>=\mathstrut \amp  -12x + 27</mrow>
          </md>.
        </p>

        <p permid="Vdf">
          Así, <m>C'(x) = -12</m>.
          Notando que <m>f'(x) = -4</m> y <m>g'(x) = 3</m>,
          observamos que <m>C'</m> parece ser el producto de <m>f'</m> y <m>g'</m>.
        </p>
      </solution>
    </example>

    <p permid="kVX">
      Puede parecer que
      <xref ref="ex-2-5-linear">Ejemplo</xref>
      es demasiado elemental para ilustrar cómo diferenciar una función compuesta.
      Las funciones lineales son las más simples de todas las funciones, y
      componer funciones lineales produce otra función lineal.
      Aunque este ejemplo no ilustra la complejidad completa de una composición de funciones no lineales,
      al mismo tiempo recordamos que cualquier función diferenciable es
      <em>localmente</em> lineal,
      y así cualquier función con una derivada se comporta como una línea cuando se ve de cerca.
      El hecho de que las derivadas de las funciones lineales <m>f</m> y <m>g</m> se multipliquen para encontrar la derivada de su composición resulta ser una idea clave.
    </p>

    <p permid="Rdg">
      Ahora consideramos una composición que involucra una función no lineal.
    </p>

    <example xml:id="ex-2-5-double-angle" permid="Fkn">
      <statement>
        <p permid="PnT">
          Sea <m>C(x) = \sin(2x)</m>.
          Usa la identidad del ángulo doble para reescribir <m>C</m> como un producto de funciones básicas,
          y usa la regla del producto para encontrar <m>C'</m>.
          Reescribe <m>C'</m> en la forma más simple posible.
        </p>
      </statement>
      <solution permid="GZA">
        <p permid="Bko">
          Usando la identidad del ángulo doble para la función seno, escribimos
          <me permid="jQE">
            C(x) = \sin(2x) = 2\sin(x)\cos(x)
          </me>.
        </p>

        <p permid="hrx">
          Aplicando la regla del producto y simplificando, encontramos
          <me permid="PXN">
            C'(x) = 2\sin(x)(-\sin(x)) + \cos(x)(2\cos(x)) = 2(\cos^2(x) - \sin^2(x))
          </me>.
        </p>

        <p permid="NyG">
          A continuación, recordamos que la identidad del ángulo doble para el coseno,
          <me permid="weW">
            \cos(2x) = \cos^2(x) - \sin^2(x)
          </me>.
        </p>

        <p permid="tFP">
          Sustituyendo este resultado en nuestra expresión para <m>C'(x)</m>,
          ahora tenemos que
          <me permid="cmf">
            C'(x) = 2 \cos(2x)
          </me>.
        </p>
      </solution>
    </example>

    <p permid="xkp">
      En <xref ref="ex-2-5-double-angle">Ejemplo</xref>,
      si dejamos que <m>g(x) = 2x</m> y <m>f(x) = \sin(x)</m>,
      observamos que <m>C(x) = f(g(x))</m>.
      Ahora, <m>g'(x) = 2</m> y <m>f'(x) = \cos(x)</m>,
      así que podemos ver la estructura de <m>C'(x)</m> como
      <me permid="Ito">
        C'(x) = 2\cos(2x) = g'(x) f'(g(x))
      </me>.
    </p>

    <p permid="dry">
      En este ejemplo, como en el ejemplo que involucra funciones lineales,
      vemos que la derivada de la función compuesta <m>C(x) = f(g(x))</m>
      se encuentra multiplicando las derivadas de <m>f</m> y <m>g</m>,
      pero con <m>f'</m> evaluada en <m>g(x)</m>.
    </p>

    <p permid="JyH">
      Tiene sentido intuitivamente que estas dos cantidades estén involucradas en la tasa de cambio de una función compuesta:
      si preguntamos qué tan rápido está cambiando <m>C</m> en un valor dado de <m>x</m>,
      claramente importa qué tan rápido está cambiando <m>g</m> en <m>x</m>,
      así como qué tan rápido está cambiando <m>f</m> en el valor de <m>g(x)</m>.
      Resulta que esta estructura se mantiene para todas las funciones diferenciables<fn>
      Al igual que otras reglas de diferenciación,
      la Regla de la Cadena puede demostrarse formalmente usando la definición de límite de la derivada.
      </fn> como se establece en la Regla de la Cadena.
    </p>
    
    <assemblage xml:id="chain-rule" permid="sVV">
      <title>Regla de la Cadena</title>
      <p permid="pFQ">
        <idx><h>regla de la cadena</h></idx>
        Si <m>g</m> es diferenciable en <m>x</m> y <m>f</m> es diferenciable en <m>g(x)</m>,
        entonces la función compuesta <m>C</m> definida por
        <m>C(x) = f(g(x))</m> es diferenciable en <m>x</m> y
        <me permid="oAx">
          C'(x) = f'(g(x)) g'(x)
        </me>.
      </p>
    </assemblage>
    
    <p permid="VMZ">
      Al igual que con las reglas del producto y del cociente,
      a menudo es útil pensar verbalmente sobre lo que dice la regla de la cadena:
      <q>Si <m>C</m> es una función compuesta definida por una función externa <m>f</m> y una función interna <m>g</m>,
      entonces <m>C'</m> se obtiene al derivar la función externa
      evaluada en la función interna,
      multiplicada por la derivada de la función interna.</q>
    </p>
    
    <p permid="BUi">
      Es útil identificar claramente la función interna <m>g</m> y la función externa <m>f</m>,
      calcular sus derivadas individualmente,
      y luego juntar todas las piezas usando la regla de la cadena.
    </p>
    
    <example permid="lrw">
      <statement>
        <p permid="vvc">
          Determina la derivada de la función
          <me permid="UHG">
            r(x) = (\tan(x))^2
          </me>.
        </p>
      </statement>
      <solution permid="ngJ">
        <p permid="ZMY">
          La función <m>r</m> es compuesta,
          con la función interna <m>g(x) = \tan(x)</m> y la función externa <m>f(x) = x^2</m>.
          Organizando la información clave sobre <m>f</m>,
          <m>g</m>, y sus derivadas, tenemos
        </p>
    
        <sidebyside permid="RyF">
    
          <tabular permid="qpK">
            <row>
              <cell><m>f(x) = x^2</m></cell>
              <cell></cell>
              <cell><m>g(x) = \tan(x)</m></cell>
            </row>
            <row>
              <cell><m>f'(x) = 2x</m></cell>
              <cell></cell>
              <cell><m>g'(x) = \sec^2(x)</m></cell>
            </row>
            <row>
              <cell><m>f'(g(x)) = 2\tan(x)</m></cell>
              <cell></cell>
              <cell></cell>
            </row>
          </tabular>
    
        </sidebyside>
    
        <p permid="FUh">
          Aplicando la regla de la cadena, encontramos que
          <me permid="AOP">
            r'(x) = f'(g(x))g'(x) = 2\tan(x) \sec^2(x)
          </me>.
        </p>
      </solution>
    </example>
    
    <p permid="ibr">
      Como nota al margen,
      observamos que <m>r(x)</m> generalmente se escribe como <m>\tan^2(x)</m>.
      Esta es una notación común para las potencias de funciones trigonométricas:
      <m>\cos^4(x)</m>, <m>\sin^5(x)</m>,
      y <m>\sec^2(x)</m> son todas funciones compuestas,
      con la función externa siendo una función de potencia y la función interna una trigonométrica.
    </p>
    
    <xi:include href="./activities/act-2-5-1.xml" />
  </subsection>
    
    <subsection permid="AAu">
      <title>Usando múltiples reglas simultáneamente</title>
      <p permid="OiA">
        La regla de la cadena ahora se une a las reglas de la suma,
        múltiplo constante, producto,
        y cociente en nuestra colección de técnicas para encontrar la derivada de una función a través de la comprensión de su estructura algebraica y las funciones básicas que la constituyen.
        Se necesita práctica para sentirse cómodo aplicando múltiples reglas para diferenciar una sola función, pero
        usar la notación adecuada y tomar unos pocos pasos adicionales ayudará.
      </p>
    
      <example permid="xFO">
        <statement>
          <p permid="bCl">
            Encuentra una fórmula para la derivada de <m>h(t) = 3^{t^2 + 2t}\sec^4(t)</m>.
          </p>
        </statement>
        <solution permid="TnS">
          <p permid="mbq">
            Primero observamos que <m>h</m> es el producto de dos funciones:
            <m>h(t) = a(t) \cdot b(t)</m>, donde
            <m>a(t) = 3^{t^2 + 2t}</m> y <m>b(t) = \sec^4(t)</m>.
            Necesitaremos usar la regla del producto para diferenciar <m>h</m>.
            Y dado que <m>a</m> y <m>b</m> son funciones compuestas,
            necesitaremos
            la regla de la cadena.
            Por lo tanto, comenzamos calculando <m>a'(t)</m> y <m>b'(t)</m>.
          </p>
    
          <p permid="Siz">
            Escribiendo <m>a(t) = f(g(t)) = 3^{t^2 + 2t}</m>,
            y encontrando las derivadas de <m>f</m> y <m>g</m>, tenemos
          </p>
    
          <sidebyside permid="dMX">
    
            <tabular permid="WwT">
              <row>
                <cell><m>f(t) = 3^t</m></cell>
                <cell></cell>
                <cell><m>g(t) = t^2 + 2t</m></cell>
              </row>
              <row>
                <cell><m>f'(t) = 3^t \ln(3)</m></cell>
                <cell></cell>
                <cell><m>g'(t) = 2t+2</m></cell>
              </row>
              <row>
                <cell><m>f'(g(t)) = 3^{t^2 + 2t}\ln(3)</m></cell>
                <cell></cell>
                <cell></cell>
              </row>
            </tabular>
    
          </sidebyside>
    
          <p permid="ypI">
            Así, por la regla de la cadena,
            se sigue que <m>a'(t) = f'(g(t))g'(t) = 3^{t^2 + 2t}\ln(3) (2t+2)</m>.
          </p>
    
          <p permid="ewR">
            Pasando a <m>b</m>,
            escribimos <m>b(t) = r(s(t)) = \sec^4(t)</m> y encontramos las derivadas de <m>r</m> y <m>s</m>.
          </p>
    
          <sidebyside permid="JUg">
    
            <tabular permid="CEc">
              <row>
                <cell><m>r(t) = t^4</m></cell>
                <cell></cell>
                <cell><m>s(t) = \sec(t)</m></cell>
              </row>
              <row>
                <cell><m>r'(t) = 4t^3</m></cell>
                <cell></cell>
                <cell><m>s'(t) = \sec(t)\tan(t)</m></cell>
              </row>
              <row>
                <cell><m>r'(s(t)) = 4\sec^3(t)</m></cell>
                <cell></cell>
                <cell></cell>
              </row>
            </tabular>
    
          </sidebyside>
    
          <p permid="KEa">
            Por la regla de la cadena,
            <me permid="gVY">
              b'(t) = r'(s(t))s'(t) = 4\sec^3(t)\sec(t)\tan(t) = 4 \sec^4(t) \tan(t)
            </me>.
          </p>
    
          <p permid="qLj">
            Ahora finalmente estamos listos para calcular la derivada de la función <m>h</m>.
            Recordando que <m>h(t) = 3^{t^2 + 2t}\sec^4(t)</m>,
            por la regla del producto tenemos
            <me permid="Ndh">
              h'(t) = 3^{t^2 + 2t} \frac{d}{dt}[\sec^4(t)] + \sec^4(t) \frac{d}{dt}[3^{t^2 + 2t}]
            </me>.
          </p>
    
          <p permid="WSs">
            De nuestro trabajo anterior con <m>a</m> y <m>b</m>,
            conocemos las derivadas de
            <m>3^{t^2 + 2t}</m> y <m>\sec^4(t)</m>, y por lo tanto
            <me permid="tkq">
              h'(t) = 3^{t^2 + 2t} 4\sec^4(t) \tan(t) + \sec^4(t) 3^{t^2 + 2t}\ln(3) (2t+2)
            </me>.
          </p>
        </solution>
      </example>
    
      <xi:include href="./activities/act-2-5-2.xml" />
    
      <p permid="upJ">
        La regla de la cadena ahora añade sustancialmente a nuestra capacidad para calcular derivadas.
        Ya sea que estemos encontrando la ecuación de la línea tangente a una curva,
        la velocidad instantánea de una partícula en movimiento,
        o la tasa de cambio instantánea de una cierta cantidad,
        si la función en consideración es una composición,
        la regla de la cadena es indispensable.
      </p>
    
      <xi:include href="./activities/act-2-5-3.xml" />
    </subsection>
    
    <subsection permid="gHD">
      <title>La versión compuesta de las reglas de funciones básicas</title>
      <p permid="awS">
        A medida que ganemos más experiencia con la diferenciación,
        nos sentiremos más cómodos simplemente escribiendo la derivada sin tomar múltiples pasos.
        Esto es particularmente simple cuando la función interna es lineal,
        ya que la derivada de una función lineal es una constante.
      </p>
    
      <example permid="qbp">
        <statement>
          <p permid="HJu">
            Usa la regla de la cadena para diferenciar cada una de las siguientes funciones compuestas cuya función interna es lineal:
            <me permid="Zrz">
              \frac{d}{dx} \left[ (5x+7)^{10} \right] = 10(5x+7)^9 \cdot 5
            </me>,
            <me permid="FyI">
              \frac{d}{dx} \left[ \tan(17x) \right] = 17\sec^2(17x), \ \text{y}
            </me>
            <me permid="lFR">
              \frac{d}{dx} \left[ e^{-3x} \right] = -3e^{-3x}
            </me>.
          </p>
        </statement>
      </example>
    
      <p permid="GEb">
        Más generalmente,
        lo siguiente es un excelente ejercicio para sentirse cómodo con las reglas de derivación.
        Escribe una lista de todas las funciones básicas cuyas derivadas conocemos, y
        lista las derivadas.
        Luego escribe una función compuesta con la función interna siendo una función desconocida <m>u(x)</m> y la función externa siendo una función básica.
        Finalmente, escribe la regla de la cadena para la función compuesta.
        El siguiente ejemplo ilustra esto para dos funciones diferentes.
      </p>
    
      <example permid="Wiy">
        <statement>
          <p permid="nQD">
            Para determinar
            <me permid="RNa">
              \frac{d}{dx}[\sin(u(x))]
            </me>,
            donde <m>u</m> es una función diferenciable de <m>x</m>,
            usamos la regla de la cadena con la función seno como la función externa.
            Aplicando la regla de la cadena, encontramos que
            <me permid="xUj">
              \frac{d}{dx}[\sin(u(x))] = \cos(u(x)) \cdot u'(x)
            </me>.
            Esta regla es análoga a la regla básica de derivación que <m>\frac{d}{dx}[\sin(x)] = \cos(x)</m>.
          </p>
    
          <p permid="TXM">
            De manera similar, dado que <m>\frac{d}{dx}[a^x] = a^x \ln(a)</m>,
            se sigue por la regla de la cadena que
            <me permid="ebs">
              \frac{d}{dx}[a^{u(x)}] = a^{u(x)} \ln(a) \cdot u'(x)
            </me>.
            Esta regla es análoga a la regla básica de derivación que <m>\frac{d}{dx}[a^{x}] = a^{x} \ln(a)</m>.
          </p>
        </statement>
      </example>
    </subsection>
    
    <subsection permid="MOM">
      <title>Resumen</title>
      <p permid="mLk">
        <ul permid="fCk">
          <li permid="XXL">
            <p permid="wAv">
              Una función compuesta es aquella donde la variable de entrada <m>x</m> primero pasa por una función,
              y luego el resultado pasa por otra.
              Por ejemplo, la función
              <m>h(x) = 2^{\sin(x)}</m> es compuesta ya que <m>x \longrightarrow \sin(x) \longrightarrow 2^{\sin(x)}</m>.
            </p>
          </li>
    
          <li permid="EeU">
            <p permid="cHE">
              Dada una función compuesta
              <m>C(x) = f(g(x))</m> donde <m>f</m> y <m>g</m> son funciones diferenciables,
              la regla de la cadena nos dice que
              <me permid="KiB">
                C'(x) = f'(g(x)) g'(x)
              </me>.
            </p>
          </li>
        </ul>
      </p>
    </subsection>
    
  <xi:include href="./exercises/ez-2-5.xml" />
</section>
